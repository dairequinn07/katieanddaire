{% extends 'base.html' %}

{% block head %}
    {{ super() }}
{% endblock %}

{% block body %}
    {{ super() }}
<!-- ============================================ -->
<!--                    Hero                      -->
<!-- ============================================ -->

<section id="hero-1618">
    <div class="cs-container">
        <div class="cs-content">
            <div class="cs-left">
                <h1 class="ml11">
                  <span class="text-wrapper">
                    <span class="line line1"></span>
                    <span class="letters">Katie & Dáire's Wedding</span>
                  </span>
                </h1>
                <h3 class="cs-text" style="color: white;">17 July 2025</h3>
                <a href="#" id="enquireNow" class="cs-button-solid" onclick="showForm()">RSVP</a>
            </div>
        </div>
    </div>

    <picture class="cs-background">
        <source media="(max-width: 600px)" srcset="static/isola-del-garda.jpg">
        <source media="(min-width: 601px)" srcset="static/isola-del-garda.jpg">
        <img src="static/isola-del-garda.jpg" alt="Isola del Garda" width="100%" height="100%" aria-hidden="true">
    </picture>
</section>

<section id="hero-1947" style="background-color: #ffe2d6;">
    <div class="cs-container">
        <div class="cs-content">
            <h1>Wedding Itinerary (3 Days)</h1>
            <ul class="cs-card-group">
                <li class="cs-item">
                    <h3 class="cs-h3">Wednesday 16 July: Welcome Drinks & Pizza Party</h3>
                    <ul>
                        <li>Location: Villa Bissiniga, Salò</li>
                        <li>Time: 6:30PM - 11:00PM</li>
                        <li style="list-style-type: none;"><strong>Guest Instructions:</strong></li>
                        <li>Please arrive at Villa Bissiniga by 6:30PM.</li>
                        <li style="list-style-type: none;"><strong>Transport:</strong></li>
                        <li>Taxi service provided from Hotel Du Lac, Gardone Riviera, to and from the venue.</li>
                    </ul>
                </li>
                <li class="cs-item">
                    <h3 class="cs-h3">Thursday 17 July: Wedding Day</h3>
                    <ul>
                        <li>Meeting Point: Gardone Riviera Dock</li>
                        <li>Time: 1:30PM - 2:00PM</li>
                        <li style="list-style-type: none;"><strong>Guest Instructions:</strong></li>
                        <li>Please arrive at the dock by 1:30PM for a timely departure. Enjoy a cocktail while you wait.</li>
                        <li style="list-style-type: none;"><strong>Transport to Dock:</strong></li>
                        <li>Gardone guests: walking distance</li>
                        <li>Salò guests: Possible pickup arranged closer to the date.</li>
                    </ul>
                </li>
                <li class="cs-item">
                    <h3 class="cs-h3">Friday 18 July: Day 2 Food & Drinks</h3>
                    <ul>
                        <li>Location: Terrace, Hotel Savoy Palace, Gardone Riviera</li>
                        <li>Time: 5:30PM</li>
                        <li style="list-style-type: none;"><strong>Guest Instructions:</strong></li>
                        <li>Please arrive at the terrace by 5:30PM.</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</section>

<section id="hero-1947" style="background-color: white;">
    <div class="cs-container">
        <div class="cs-content">
            <h1>Where to Stay</h1>
            <h3>Please book accommodation in Salò or Gardone Riviera. Other towns may be too far for convenient access during the wedding week.</h3>
            <img src="/static/map.jpg" height="auto" width="350px">
            <h1>Wedding Location & Travel Tips</h1>
            <h3>Airports</h3>
            <p>Main options: Milan Bergamo and Verona. Direct flights from Belfast or Dublin to Bergamo; Verona flights are from Dublin only. Example fare: £128 return from Dublin to Bergamo (excluding luggage).</p>
            <h3>By Car</h3>
            <p>Car hire from Bergamo is straightforward. We paid £150 for a week’s rental from Rental Plus (Skoda Jeep) with no issues. Journey is under 1 hour and very direct.</p>
            <h3>By Taxi (Book in Advance)</h3>
            <ul style="list-style: none;">
                <li><strong>Alla</strong> - Manages a fleet: +39 327 449 0662</li>
                <li><strong>Roberto</strong> - +39 338 365 9218</li>
                <li><strong>Radio Taxi</strong> - +39 0365 43516</li>
                <li><strong>Mr Giuseppe Cipani</strong> - +39 329 7108261 (<a href="https://lakegardatransfers.co.uk/ask-here-for-transfer-information/">lakegardatransfers.co.uk</a>)</li>
            </ul>
            <h3>Additional Tips</h3>
            <ul style="list-style: none;">
                <li>Check public transport timetables in advance (especially on weekends/holidays).</li>
                <li>Car rental is ideal if travelling with luggage or wanting to explore.</li>
                <li>We explored the western lake shore and loved it — highly recommended!</li>
                <li>Ferries are also available for scenic travel around the lake.</li>
            </ul>
        </div>
    </div>
</section>

<section id="hero-1947" style="background-color: #4E8575;">
    <div class="cs-container">
        <div class="cs-content">
            <h1>Accommodation Recommendations</h1>
            <p>Most events take place in Gardone Riviera. Due to limited taxi availability, we recommend staying nearby — either in Gardone or Salò (just 5–8 minutes away with more nightlife). Before booking, please check with us for area advice!</p>
            <ul style="list-style: none;">
                <li><strong>Hotel Du Lac:</strong> 5-minute walk from venue, central location. Most guests are staying here (45+).</li>
                <li><strong>Hotel Villa Del Sogno:</strong> Elegant with beautiful gardens and service.</li>
                <li><strong>Hotel Spiaggia d'Oro:</strong> Great lake views, central, already booked by some guests.</li>
                <li><strong>Hotel Bellevue:</strong> Also booked by a few guests.</li>
            </ul>
        </div>
    </div>
</section>

<section id="hero-1947" style="background-color: #ffe2d6;">
    <div class="cs-container">
        <div class="cs-content">
            <h1>Food Recommendations</h1>
            <p>We fell in love with the food! Expect €4–5 spritz and €2 coffees. Here are our top picks (there are many more lovely spots too!).</p>
            <ul style="list-style: none;">
                <li><strong>Osteria Antico Brolo (Gardone):</strong> Our favourite. Michelin-listed but affordable. Booking essential.</li>
                <li><strong>L'Osteria dell'Orologio (Salò):</strong> Incredible duck ragù and carbonara. Great wine list. Booking essential.</li>
                <li><strong>Hotel BellaRiva (Gardone):</strong> Ideal for lakeside cocktails and lunch — club sandwiches and pasta were a hit!</li>
                <li><strong>Al Baretto (Salò):</strong> Best authentic bruschetta in town.</li>
                <li><strong>Mamceita Café – Sweet and Salty (Salò):</strong> Great coffee and Nutella pancakes — Dáire’s favourite!</li>
            </ul>
        </div>
    </div>
</section>

<section id="hero-1947" style="background-color: white;">
    <div class="cs-container">
        <div class="cs-content">
            <h1>Other Lake Garda Highlights</h1>
            <p>We highly recommend exploring other parts of the lake in your free time. Our top picks:</p>
            <ul style="list-style: none;">
                <li><strong>Sirmione:</strong> Famous for its castle and thermal baths.</li>
                <li><strong>Malcesine:</strong> Picturesque with cable car access to Monte Baldo.</li>
                <li><strong>Limone sul Garda:</strong> Known for lemon groves and lake views.</li>
                <li><strong>Riva del Garda:</strong> Great for adventure — windsurfing, sailing, hiking.</li>
                <li><strong>Desenzano:</strong> Lively town with nightlife and historic charm.</li>
                <li><strong>Gardaland:</strong> Theme park fun for all ages!</li>
            </ul>
        </div>
    </div>
</section>

<section id="hero-1947" style="background-color: #4E8575;">
    <div class="cs-container">
        <div class="cs-content">
            <h1>Contact Us</h1>
            <h3>Katie</h3>
            <p>+44 7715 975172</p>
            <h3>Dáire</h3>
            <p>+44 7435 657478</p>
        </div>
    </div>
</section>
<div class="overlay" id="formOverlay"> <!-- Overlay for the popup -->
    <form class="form" method="POST">
        <button type="button" class="close-btn" onclick="closeForm()">✖</button> <!-- Close button -->
        <p id="heading">
            RSVP <img src="https://flagcdn.com/w40/it.png" alt="Italy Flag" style="height: 100%; vertical-align: sub; margin-left: 5px;">
        </p>
        <div class="field">
            <input autocomplete="off" id="names" name="names" placeholder="Names" class="input-field" type="text">
        </div>
        <p style="color: white;">Attending?</p>
        <label>
          <input type="radio" name="attending" value="Y" id="attending-yes" autocomplete="off" checked>
          Yes
        </label>
        <label>
          <input type="radio" name="attending" value="N" id="attending-no" autocomplete="off">
          No
        </label>
        <p style="color: white;">Hotel/BnB location</p>
        <label>
          <input type="radio" name="location" value="Gardone" id="location-gardone" autocomplete="off" checked>
          Gardone
        </label>
        <label>
          <input type="radio" name="location" value="Salo" id="location-salo" autocomplete="off">
          Salò
        </label>
        <div class="field">
            <textarea id="dietary" name="dietary" placeholder="Dietary requirements" class="input-field"></textarea>
        </div>
        <div class="field">
            <textarea id="comments" name="comments" placeholder="Additional info" class="input-field"></textarea>
        </div>
        <div class="button">
            <button class="button3" type="button" onclick="submitForm()">Send RSVP</button>
        </div>
    </form>
</div>
<script>
// Wrap every word in a span
var textWrapper = document.querySelector('.ml11 .letters');
textWrapper.innerHTML = textWrapper.textContent.replace(/\S+/g, "<span class='word'>$&</span>");

anime.timeline({loop: false})
  .add({
    targets: '.ml11 .line',
    scaleY: [0, 1],
    opacity: [0.5, 1],
    easing: "easeOutExpo",
    duration: 700
  })
  .add({
    targets: '.ml11 .line',
    translateX: [0, (() => {
        let lastWord = document.querySelector('span .letters');
        return lastWord ? lastWord.offsetLeft + lastWord.getBoundingClientRect().width : 0;
    })()],
    easing: "easeOutExpo",
    duration: 700,
    delay: 100
  })
  .add({
    targets: '.ml11 .word',
    opacity: [0, 1],
    easing: "easeOutExpo",
    duration: 600,
    offset: '-=775',
    delay: (el, i) => 100 * (i + 1)  // Adjust delay for smooth animation
  })
  .add({
    targets: '.ml11',
    opacity: 1,
    duration: 1000,
    easing: "easeOutExpo",
    delay: 1000
  });

function showForm() {
    var overlay = document.getElementById('formOverlay');
    overlay.style.display = "flex"; // Show the overlay

    var form = document.querySelector('.form');
    form.style.display = "flex";
}

function closeForm() {
    var overlay = document.getElementById('formOverlay');
    overlay.style.display = "none"; // Hide the overlay
}

function submitForm() {
    // Gather form data
    const attending = document.querySelector('input[name="attending"]:checked');
    const location = document.querySelector('input[name="location"]:checked');
    const formData = {
        names: document.getElementById('names').value,
        attending: attending.value,
        location: location.value,
        dietary: document.getElementById('dietary').value,
        comments: document.getElementById('comments').value,
    };

    // Send the enquiry form
    fetch('/submit-form', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)  // Serialize form data as JSON
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data.success) {
            window.alert("Your RSVP has been sent. Thank you!");
            closeForm();  // Optionally close the form after submission
        } else {
            window.alert("There has been a problem submitting your RSVP. Please try again later.");
            closeForm();  // Optionally close the form after submission
        }
    })
    .catch(error => {
        console.error('Error submitting RSVP:', error);
        window.alert('There was an error submitting your RSVP. Please try again later.');
    });
}
</script>
{% endblock %}